/* Import Pywal colors */
@import url("/home/tripathiji/.cache/wal/colors-waybar.css");

* {
    border: none;
    /* FIX: Reverted to original size */
    border-radius: 12px;
    font-family: "JetBrainsMono Nerd Font", FontAwesome, sans-serif;
    font-weight: bold;
    font-size: 14px;
    min-height: 0;
}

window#waybar {
    background: transparent;
}

/* --- General Module Styling --- */
#custom-launcher, #clock, #battery, #tray, #custom-power,
#cpu, #memory, #disk, #backlight, #pulseaudio, #network, #bluetooth {
    background-color: alpha(@background, 0.7);
    color: @foreground;
    margin: 4px 0;
    border: 1px solid alpha(@color8, 0.2);
    /* FEATURE: Added transition for hover effects */
    transition: all 0.3s ease;
}

/* FEATURE: Added hover effect to interactive modules */
#cpu:hover, #memory:hover, #disk:hover, #backlight:hover, #pulseaudio:hover,
#network:hover, #bluetooth:hover, #battery:hover, #clock:hover, #custom-launcher:hover {
    background-color: alpha(@background, 0.9);
    border-color: @color8;
}

/* --- Media Player Style --- */
#custom-media {
    background-color: @color8;
    color: @background;
    padding: 2px 15px;
    margin: 4px 0;
    border-radius: 12px;
}
#custom-media.custom-spotify { background-color: #1DB954; color: #FFFFFF; }


/* FIX: Restored original padding for compact size */
.modules-right > * { padding-top: 4px; padding-bottom: 4px; }
#cpu { padding-left: 12px; padding-right: 6px; }
#memory { padding-left: 6px; padding-right: 6px; }
#disk { padding-left: 6px; padding-right: 12px; }
#backlight { padding-left: 12px; padding-right: 6px; }
#pulseaudio { padding-left: 6px; padding-right: 12px; }
#network { padding-left: 12px; padding-right: 6px; }
#bluetooth { padding-left: 6px; padding-right: 12px; }
#tray, #battery, #clock, #custom-launcher { padding-left: 12px; padding-right: 12px; }
#custom-power { padding-left: 12px; padding-right: 12px; }


/* FIX: Restored original grouping design */
#cpu, #backlight, #network { margin-right: 0; border-top-right-radius: 0; border-bottom-right-radius: 0; border-right-width: 0; }
#memory { margin-left: 0; margin-right: 0; border-radius: 0; border-right-width: 0; }
#disk, #pulseaudio, #bluetooth { margin-left: 0; border-top-left-radius: 0; border-bottom-left-radius: 0; }


/* ================================================= */
/* ===  IMPROVED WORKSPACE DESIGN (Original Size) === */
/* ================================================= */

#hyprland-workspaces {
    background-color: alpha(@background, 0.7);
    border: 1px solid alpha(@color8, 0.2);
    border-radius: 12px;
    padding: 2px 5px;
    margin: 4px 0;
}

#hyprland-workspaces button {
    padding: 0;
    margin: 3px 3px;
    border-radius: 50%; /* Perfect circle */
    background-color: @color0;
    color: @color7;
    /* FIX: Reverted to original button size */
    min-width: 24px;
    min-height: 24px;
    font-size: 13px;
    transition: all 0.3s ease;
    border: 2px solid @color8;
}

#hyprland-workspaces button:hover {
    background-color: @color2;
    border-color: @color6;
    color: @color15;
}

/* A non-empty workspace (but not focused) */
#hyprland-workspaces button.visible {
    background-color: @color1;
    border-color: @color9;
    color: @color15;
    opacity: 1.0;
}

/* An empty, persistent workspace (more visible) */
#hyprland-workspaces button.persistent {
    color: @color7;
    border-color: @color5;
    border-style: dashed;
    opacity: 0.8;
}

/* The ACTIVE (focused) workspace */
#hyprland-workspaces button.active {
    background-color: @color4;
    color: @color0;
    border-color: @color12;
    font-size: 10px;
    padding-top: 2px;
    animation: pop_in 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 0 8px 0px @color4;
}

/* A workspace with an urgent hint */
#hyprland-workspaces button.urgent {
    background-color: @color1;
    color: @background;
    border-color: @color1;
    font-size: 14px;
    animation: urgent-glow 1.5s ease-in-out infinite alternate;
}

@keyframes pop_in {
    from { box-shadow: 0 0 0 0 alpha(@color4, 0.2); }
    to { box-shadow: 0 0 8px 0px alpha(@color4, 0.8); }
}

@keyframes urgent-glow {
    from { box-shadow: 0 0 2px 0px alpha(@color1, 0.8); }
    to { box-shadow: 0 0 8px 2px alpha(@color1, 1); }
}

/* =============================================== */
/* ===       Other Modules & States            === */
/* =============================================== */

#clock { font-weight: bold; }

#custom-power { color: @color1; }
#custom-power:hover { background-color: @color1; color: @background; }

#battery.warning:not(.charging) { color: @color3; }
#battery.critical:not(.charging) {
    color: @color1;
    border-color: @color1;
    animation: blink 1.2s ease-in-out infinite alternate;
}

@keyframes blink {
    to { background-color: alpha(@color1, 0.5); }
}radient(135deg, #5e81ac, #88c0d0);
    box-shadow: 0 2px 8px rgba(94, 129, 172, 0.4);
    font-weight: bold;
}

#hyprland-workspaces button:hover {
    color: #eceff4;
    background: rgba(136, 192, 208, 0.3);
}

/* --- Media Player --- */
#custom-media {
    color: #88c0d0;
    background: linear-gradient(135deg, rgba(136, 192, 208, 0.15), rgba(136, 192, 208, 0.1));
    border: 2px solid rgba(136, 192, 208, 0.3);
    border-radius: 22px;
    padding: 8px 16px;
    font-weight: 600;
    transition: all 0.3s ease;
    animation: music-pulse 2s ease-in-out infinite;
}

#custom-media:hover {
    box-shadow: 0 4px 16px rgba(136, 192, 208, 0.3);
}

@keyframes music-pulse {
    0%, 100% { 
        border-color: rgba(136, 192, 208, 0.3);
        box-shadow: 0 0 0 0 rgba(136, 192, 208, 0.4);
    }
    50% { 
        border-color: rgba(136, 192, 208, 0.6);
        box-shadow: 0 0 0 4px rgba(136, 192, 208, 0.1);
    }
}

/* --- Clock Styling --- */
#clock {
    font-weight: bold;
    color: #eceff4;
    background: rgba(46, 52, 64, 0.9);
    border-color: #88c0d0;
}

/* --- Power Button --- */
#custom-power {
    color: #bf616a;
    background: linear-gradient(135deg, rgba(191, 97, 106, 0.15), rgba(191, 97, 106, 0.05));
    border: 2px solid rgba(191, 97, 106, 0.4);
    border-radius: 50%;
    padding: 8px 12px;
    font-size: 16px;
    font-weight: bold;
    transition: all 0.3s ease;
}

#custom-power:hover {
    background: #bf616a;
    color: #2e3440;
    animation: power-glow 1s ease-in-out infinite alternate;
}

@keyframes power-glow {
    0% {
        box-shadow: 0 0 5px rgba(191, 97, 106, 0.5);
    }
    100% {
        box-shadow: 0 0 20px rgba(191, 97, 106, 0.8), 0 0 30px rgba(191, 97, 106, 0.4);
    }
}

/* --- Hover Effects --- */
#pulseaudio:hover,
#network:hover,
#backlight:hover,
#bluetooth:hover,
#custom-media:hover,
#cpu:hover,
#memory:hover,
#disk:hover {
    background: #5e81ac;
    color: #2e3440;
    border-color: #5e81ac;
}

/* --- Battery States --- */
#battery {
    border-radius: 20px;
    font-weight: 600;
}

#battery.charging {
    color: #a3be8c;
    background: linear-gradient(135deg, rgba(163, 190, 140, 0.2), rgba(163, 190, 140, 0.1));
    border-color: rgba(163, 190, 140, 0.5);
    animation: charging-pulse 2s ease-in-out infinite;
}

#battery.warning {
    color: #ebcb8b;
    background: linear-gradient(135deg, rgba(235, 203, 139, 0.2), rgba(235, 203, 139, 0.1));
    border-color: rgba(235, 203, 139, 0.5);
    animation: warning-blink 1.5s ease-in-out infinite;
}

#battery.critical {
    color: #bf616a;
    background: linear-gradient(135deg, rgba(191, 97, 106, 0.3), rgba(191, 97, 106, 0.1));
    border-color: rgba(191, 97, 106, 0.7);
    animation: critical-flash 1s ease-in-out infinite;
}

@keyframes charging-pulse {
    0%, 100% { 
        border-color: rgba(163, 190, 140, 0.5);
        box-shadow: 0 0 0 0 rgba(163, 190, 140, 0.4);
    }
    50% { 
        border-color: rgba(163, 190, 140, 0.8);
        box-shadow: 0 0 0 3px rgba(163, 190, 140, 0.2);
    }
}

@keyframes warning-blink {
    0%, 50%, 100% { opacity: 1; }
    25%, 75% { opacity: 0.7; }
}

@keyframes critical-flash {
    0%, 100% { 
        background: linear-gradient(135deg, rgba(191, 97, 106, 0.3), rgba(191, 97, 106, 0.1));
        box-shadow: 0 0 0 0 rgba(191, 97, 106, 0.6);
    }
    50% { 
        background: linear-gradient(135deg, rgba(191, 97, 106, 0.5), rgba(191, 97, 106, 0.2));
        box-shadow: 0 0 0 4px rgba(191, 97, 106, 0.3);
    }
}

/* --- Tray Styling --- */
#tray {
    background: rgba(46, 52, 64, 0.6);
    border: 2px solid rgba(76, 86, 106, 0.3);
    border-radius: 12px;
    padding: 4px 8px;
}

#tray > .passive {
    -gtk-icon-effect: dim;
}

#tray > .needs-attention {
    -gtk-icon-effect: highlight;
    background-color: #bf616a;
}
