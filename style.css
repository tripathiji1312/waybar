/* Import Pywal colors */
@import url("/home/tripathiji/.cache/wal/colors-waybar.css");

* {
    border: none;
    /* FIX: Reverted to original size */
    border-radius: 12px;
    font-family: "JetBrainsMono Nerd Font", FontAwesome, sans-serif;
    font-weight: bold;
    font-size: 14px;
    min-height: 0;
}

window#waybar {
    background: transparent;
}

/* --- General Module Styling --- */
#custom-launcher, #clock, #battery, #tray, #custom-power,
#cpu, #memory, #disk, #backlight, #pulseaudio, #network, #bluetooth {
    background-color: alpha(@background, 0.7);
    color: @foreground;
    margin: 4px 0;
    border: 1px solid alpha(@color8, 0.2);
    /* FEATURE: Added transition for hover effects */
    transition: all 0.3s ease;
}

/* FEATURE: Added hover effect to interactive modules */
#cpu:hover, #memory:hover, #disk:hover, #backlight:hover, #pulseaudio:hover,
#network:hover, #bluetooth:hover, #battery:hover, #clock:hover, #custom-launcher:hover {
    background-color: alpha(@background, 0.9);
    border-color: @color8;
}

/* --- Media Player Style --- */
#custom-media {
    background-color: @color8;
    color: @background;
    padding: 2px 15px;
    margin: 4px 0;
    border-radius: 12px;
}
#custom-media.custom-spotify { background-color: #1DB954; color: #FFFFFF; }


/* FIX: Restored original padding for compact size */
.modules-right > * { padding-top: 4px; padding-bottom: 4px; }
#cpu { padding-left: 12px; padding-right: 6px; }
#memory { padding-left: 6px; padding-right: 6px; }
#disk { padding-left: 6px; padding-right: 12px; }
#backlight { padding-left: 12px; padding-right: 6px; }
#pulseaudio { padding-left: 6px; padding-right: 12px; }
#network { padding-left: 12px; padding-right: 6px; }
#bluetooth { padding-left: 6px; padding-right: 12px; }
#tray, #battery, #clock, #custom-launcher { padding-left: 12px; padding-right: 12px; }
#custom-power { padding-left: 12px; padding-right: 12px; }


/* FIX: Restored original grouping design */
#cpu, #backlight, #network { margin-right: 0; border-top-right-radius: 0; border-bottom-right-radius: 0; border-right-width: 0; }
#memory { margin-left: 0; margin-right: 0; border-radius: 0; border-right-width: 0; }
#disk, #pulseaudio, #bluetooth { margin-left: 0; border-top-left-radius: 0; border-bottom-left-radius: 0; }


/* ================================================= */
/* ===  IMPROVED WORKSPACE DESIGN (Original Size) === */
/* ================================================= */

#hyprland-workspaces {
    background-color: alpha(@background, 0.7);
    border: 1px solid alpha(@color8, 0.2);
    border-radius: 12px;
    padding: 2px 5px;
    margin: 4px 0;
}

#hyprland-workspaces button {
    padding: 0;
    margin: 3px 3px;
    border-radius: 50%; /* Perfect circle */
    background-color: transparent;
    color: @foreground;
    /* FIX: Reverted to original button size */
    min-width: 24px;
    min-height: 24px;
    font-size: 13px;
    transition: all 0.3s ease;
    border: 1px solid transparent;
}

#hyprland-workspaces button:hover {
    background-color: alpha(@color8, 0.5);
    border-color: @color8;
}

/* A non-empty workspace (but not focused) */
#hyprland-workspaces button.visible {
    background-color: alpha(@color7, 0.4);
    border-color: @color7;
    color: @foreground;
    opacity: 1.0;
}

/* An empty, persistent workspace (more visible) */
#hyprland-workspaces button.persistent {
    color: @color7;
    border-color: @color7;
    border-style: dashed;
    opacity: 0.7;
}

/* The ACTIVE (focused) workspace */
#hyprland-workspaces button.active {
    background-color: @color4;
    color: @background;
    border-color: @color4;
    font-size: 10px;
    padding-top: 2px;
    animation: pop_in 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 0 8px 0px alpha(@color4, 0.8);
}

/* A workspace with an urgent hint */
#hyprland-workspaces button.urgent {
    background-color: @color1;
    color: @background;
    border-color: @color1;
    font-size: 14px;
    animation: urgent-glow 1.5s ease-in-out infinite alternate;
}

@keyframes pop_in {
    from { box-shadow: 0 0 0 0 alpha(@color4, 0.2); }
    to { box-shadow: 0 0 8px 0px alpha(@color4, 0.8); }
}

@keyframes urgent-glow {
    from { box-shadow: 0 0 2px 0px alpha(@color1, 0.8); }
    to { box-shadow: 0 0 8px 2px alpha(@color1, 1); }
}

/* =============================================== */
/* ===       Other Modules & States            === */
/* =============================================== */

#clock { font-weight: bold; }

#custom-power { color: @color1; }
#custom-power:hover { background-color: @color1; color: @background; }

#battery.warning:not(.charging) { color: @color3; }
#battery.critical:not(.charging) {
    color: @color1;
    border-color: @color1;
    animation: blink 1.2s ease-in-out infinite alternate;
}

@keyframes blink {
    to { background-color: alpha(@color1, 0.5); }
}